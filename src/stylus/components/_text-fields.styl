@import '../bootstrap'
@import '../theme'

v-text-field($material)
  &:not(.v-input--has-state)
    .v-input__wrapper:before
      background-color: $material.input-bottom-line

    &:hover
      .v-input__wrapper:before
        background-color: $material.text.primary

  &__prefix,
  &__suffix
    color: $material.text.secondary

  &.v-text-field--solo
    background: $material.cards

  &.v-text-field--solo-inverted
    background: rgba($material.inputs.solo-inverted)

    &.v-input--is-focused
      background: rgba($material.inputs.solo-inverted-focused)

      // May need to remove this
      .icon,
      input,
      label
        color: $material.inputs.solo-inverted-focused-text

theme(v-text-field, "v-text-field")

.v-text-field
  &__details
    display: flex
    flex: 1 0 auto
    justify-content: space-between
    max-width: 100%

  &__prefix,
  &__suffix
    height: 32px
    line-height: 18px

  &__prefix
    padding: 8px 4px 8px 0

  &__suffix
    padding: 8px 0 8px 4px

  &__wrapper
    flex: 1 1 auto
    position: relative

  &--solo
    padding: 8px 16px
    elevation(2)

    .v-input__icon--prepend
      margin-left: 0

    .v-input__icon--outer
      margin-right: 0

    .v-input__wrapper
      margin-bottom: 0
      position: static

      &:before,
      &:after
        display: none

    .v-text-field__details
      bottom: -22px
      position: absolute
      width: 100%

  .v-counter
    white-space: nowrap

  .v-label
    line-height: normal // needed because of hidden overflow clips y axis of text
    max-width: 100%
    overflow: hidden
    text-overflow: ellipsis
    top: calc(50% - 10px)
    transform-origin: top left
    white-space: nowrap

  &:not(.v-text-field--solo)
    &.v-input--is-focused,
    &.v-input--is-label-active
      .v-label--active
        transform: translateY(-19px) scale(0.75)

  &.v-input--is-focused
    .v-input__wrapper:after
      transform: scaleX(1)

  &.v-input--has-state
    .v-input__wrapper:before
      background-color: currentColor

  .v-input__append-inner
    display: inline-flex
    padding: 4px 0 4px 8px
    margin-left: auto

  .v-input__wrapper
    &:before,
    &:after
      bottom: -1px
      content: ''
      left: 0
      position: absolute
      transition: $primary-transition
      width: 100%

    &:before
      height: 1px

    &:after
      background-color: currentColor
      height: 2px
      transform: scaleX(0)
