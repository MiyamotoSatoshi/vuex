{"version":3,"sources":["../../../src/components/VStepper/VStepperContent.js"],"names":[],"mappings":"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","sourcesContent":["// Components\nimport {\n  VTabTransition,\n  VTabReverseTransition\n} from '../transitions'\n\n// Mixins\nimport { inject as RegistrableInject } from '../../mixins/registrable'\n\n// Helpers\nimport { convertToUnit } from '../../util/helpers'\n\n/* @vue/component */\nexport default {\n  name: 'v-stepper-content',\n\n  mixins: [\n    RegistrableInject('stepper', 'v-stepper-content', 'v-stepper')\n  ],\n\n  inject: {\n    isVerticalProvided: {\n      from: 'isVertical'\n    }\n  },\n\n  props: {\n    step: {\n      type: [Number, String],\n      required: true\n    }\n  },\n\n  data () {\n    return {\n      height: 0,\n      // Must be null to allow\n      // previous comparison\n      isActive: null,\n      isReverse: false,\n      isVertical: this.isVerticalProvided\n    }\n  },\n\n  computed: {\n    classes () {\n      return {\n        'v-stepper__content': true\n      }\n    },\n    computedTransition () {\n      return this.isReverse\n        ? VTabReverseTransition\n        : VTabTransition\n    },\n    styles () {\n      if (!this.isVertical) return {}\n\n      return {\n        height: convertToUnit(this.height)\n      }\n    },\n    wrapperClasses () {\n      return {\n        'v-stepper__wrapper': true\n      }\n    }\n  },\n\n  watch: {\n    isActive (current, previous) {\n      // If active and the previous state\n      // was null, is just booting up\n      if (current && previous == null) {\n        return (this.height = 'auto')\n      }\n\n      if (!this.isVertical) return\n\n      if (this.isActive) this.enter()\n      else this.leave()\n    }\n  },\n\n  mounted () {\n    this.$refs.wrapper.addEventListener(\n      'transitionend',\n      this.onTransition,\n      false\n    )\n    this.stepper && this.stepper.register(this)\n  },\n\n  beforeDestroy () {\n    this.$refs.wrapper.removeEventListener(\n      'transitionend',\n      this.onTransition,\n      false\n    )\n    this.stepper && this.stepper.unregister(this)\n  },\n\n  methods: {\n    onTransition (e) {\n      if (!this.isActive ||\n        e.propertyName !== 'height'\n      ) return\n\n      this.height = 'auto'\n    },\n    enter () {\n      let scrollHeight = 0\n\n      // Render bug with height\n      requestAnimationFrame(() => {\n        scrollHeight = this.$refs.wrapper.scrollHeight\n      })\n\n      this.height = 0\n\n      // Give the collapsing element time to collapse\n      setTimeout(() => this.isActive && (this.height = (scrollHeight || 'auto')), 450)\n    },\n    leave () {\n      this.height = this.$refs.wrapper.clientHeight\n      setTimeout(() => (this.height = 0), 10)\n    },\n    toggle (step, reverse) {\n      this.isActive = step.toString() === this.step.toString()\n      this.isReverse = reverse\n    }\n  },\n\n  render (h) {\n    const contentData = {\n      'class': this.classes\n    }\n    const wrapperData = {\n      'class': this.wrapperClasses,\n      style: this.styles,\n      ref: 'wrapper'\n    }\n\n    if (!this.isVertical) {\n      contentData.directives = [{\n        name: 'show',\n        value: this.isActive\n      }]\n    }\n\n    const wrapper = h('div', wrapperData, [this.$slots.default])\n    const content = h('div', contentData, [wrapper])\n\n    return h(this.computedTransition, {\n      on: this.$listeners\n    }, [content])\n  }\n}\n"],"sourceRoot":""}