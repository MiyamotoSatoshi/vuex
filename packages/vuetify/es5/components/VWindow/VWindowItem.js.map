{"version":3,"sources":["../../../src/components/VWindow/VWindowItem.ts"],"names":[],"mappings":"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","sourcesContent":["// Components\nimport VWindow from './VWindow'\n\n// Mixins\nimport Bootable from '../../mixins/bootable'\nimport { factory as GroupableFactory } from '../../mixins/groupable'\n\n// Directives\nimport Touch from '../../directives/touch'\n\n// Utilities\nimport {\n  addOnceEventListener,\n  convertToUnit\n} from '../../util/helpers'\nimport { ExtractVue } from './../../util/mixins'\nimport mixins from '../../util/mixins'\n\n// Types\nimport Vue from 'vue'\nimport { VNode, VNodeDirective } from 'vue/types'\n\ntype VBaseWindow = InstanceType<typeof VWindow>\n\ninterface options extends Vue {\n  windowGroup: VBaseWindow\n}\n\nexport default mixins<options & ExtractVue<[typeof Bootable]>>(\n  Bootable,\n  GroupableFactory('windowGroup', 'v-window-item', 'v-window')\n  /* @vue/component */\n).extend({\n  name: 'v-window-item',\n\n  directives: {\n    Touch\n  },\n\n  props: {\n    reverseTransition: {\n      type: [Boolean, String],\n      default: undefined\n    },\n    transition: {\n      type: [Boolean, String],\n      default: undefined\n    },\n    value: {\n      required: false\n    }\n  },\n\n  data () {\n    return {\n      isActive: false,\n      wasCancelled: false\n    }\n  },\n\n  computed: {\n    computedTransition (): string | boolean {\n      if (!this.windowGroup.internalReverse) {\n        return typeof this.transition !== 'undefined'\n          ? this.transition || ''\n          : this.windowGroup.computedTransition\n      }\n\n      return typeof this.reverseTransition !== 'undefined'\n        ? this.reverseTransition || ''\n        : this.windowGroup.computedTransition\n    }\n  },\n\n  methods: {\n    genDefaultSlot () {\n      return this.$slots.default\n    },\n    onAfterEnter () {\n      if (this.wasCancelled) {\n        this.wasCancelled = false\n        return\n      }\n\n      requestAnimationFrame(() => {\n        this.windowGroup.internalHeight = undefined\n        this.windowGroup.isActive = false\n      })\n    },\n    onBeforeEnter () {\n      this.windowGroup.isActive = true\n    },\n    onBeforeLeave (el: HTMLElement) {\n      this.windowGroup.internalHeight = convertToUnit(el.clientHeight)\n    },\n    onEnterCancelled () {\n      this.wasCancelled = true\n    },\n    onEnter (el: HTMLElement, done: () => void) {\n      const isBooted = this.windowGroup.isBooted\n\n      if (isBooted) {\n        addOnceEventListener(el, 'transitionend', done)\n      }\n\n      requestAnimationFrame(() => {\n        this.windowGroup.internalHeight = convertToUnit(el.clientHeight)\n\n        // On initial render, there is no transition\n        // Vue leaves a `enter` transition class\n        // if done is called too fast\n        !isBooted && setTimeout(done, 100)\n      })\n    }\n  },\n\n  render (h): VNode {\n    const div = h('div', {\n      staticClass: 'v-window-item',\n      directives: [{\n        name: 'show',\n        value: this.isActive\n      }] as VNodeDirective[],\n      on: this.$listeners\n    }, this.showLazyContent(this.genDefaultSlot()))\n\n    return h('transition', {\n      props: {\n        name: this.computedTransition\n      },\n      on: {\n        afterEnter: this.onAfterEnter,\n        beforeEnter: this.onBeforeEnter,\n        beforeLeave: this.onBeforeLeave,\n        enter: this.onEnter,\n        enterCancelled: this.onEnterCancelled\n      }\n    }, [div])\n  }\n})\n"],"sourceRoot":""}