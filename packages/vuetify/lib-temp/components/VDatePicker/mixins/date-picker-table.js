import '../../../stylus/components/_date-picker-table.styl';
// Directives
import Touch from '../../../directives/touch';
// Utils
import isDateAllowed from '.././util/isDateAllowed';
/* @vue/component */
export default {
    directives: { Touch },
    props: {
        allowedDates: Function,
        current: String,
        disabled: Boolean,
        format: {
            type: Function,
            default: null
        },
        locale: {
            type: String,
            default: 'en-us'
        },
        min: String,
        max: String,
        scrollable: Boolean,
        tableDate: {
            type: String,
            required: true
        },
        value: [String, Array]
    },
    data: () => ({
        isReversing: false
    }),
    computed: {
        computedTransition() {
            return (this.isReversing === !this.$vuetify.rtl) ? 'tab-reverse-transition' : 'tab-transition';
        },
        displayedMonth() {
            return this.tableDate.split('-')[1] - 1;
        },
        displayedYear() {
            return this.tableDate.split('-')[0] * 1;
        }
    },
    watch: {
        tableDate(newVal, oldVal) {
            this.isReversing = newVal < oldVal;
        }
    },
    methods: {
        genButtonClasses(isAllowed, isFloating, isSelected, isCurrent) {
            return {
                'v-btn--active': isSelected,
                'v-btn--flat': !isSelected,
                'v-btn--icon': isSelected && isAllowed && isFloating,
                'v-btn--floating': isFloating,
                'v-btn--depressed': !isFloating && isSelected,
                'v-btn--disabled': !isAllowed || (this.disabled && isSelected),
                'v-btn--outline': isCurrent && !isSelected,
                ...this.themeClasses
            };
        },
        genButton(value, isFloating) {
            const isAllowed = isDateAllowed(value, this.min, this.max, this.allowedDates);
            const isSelected = value === this.value || (Array.isArray(this.value) && this.value.indexOf(value) !== -1);
            const isCurrent = value === this.current;
            const setColor = isSelected ? this.setBackgroundColor : this.setTextColor;
            const color = (isSelected || isCurrent) && (this.color || 'accent');
            return this.$createElement('button', setColor(color, {
                staticClass: 'v-btn',
                'class': this.genButtonClasses(isAllowed, isFloating, isSelected, isCurrent),
                attrs: {
                    type: 'button'
                },
                domProps: {
                    disabled: !isAllowed,
                    innerHTML: `<div class="v-btn__content">${this.formatter(value)}</div>`
                },
                on: (this.disabled || !isAllowed) ? {} : {
                    click: () => this.$emit('input', value)
                }
            }));
        },
        wheel(e) {
            e.preventDefault();
            this.$emit('tableDate', this.calculateTableDate(e.deltaY));
        },
        touch(value) {
            this.$emit('tableDate', this.calculateTableDate(value));
        },
        genTable(staticClass, children) {
            const transition = this.$createElement('transition', {
                props: { name: this.computedTransition }
            }, [this.$createElement('table', { key: this.tableDate }, children)]);
            const touchDirective = {
                name: 'touch',
                value: {
                    left: e => (e.offsetX < -15) && this.touch(1),
                    right: e => (e.offsetX > 15) && this.touch(-1)
                }
            };
            return this.$createElement('div', {
                staticClass,
                class: this.themeClasses,
                on: this.scrollable ? { wheel: this.wheel } : undefined,
                directives: [touchDirective]
            }, [transition]);
        }
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZS1waWNrZXItdGFibGUuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyIuLi8uLi8uLi8uLi9zcmMvY29tcG9uZW50cy9WRGF0ZVBpY2tlci9taXhpbnMvZGF0ZS1waWNrZXItdGFibGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxvREFBb0QsQ0FBQTtBQUUzRCxhQUFhO0FBQ2IsT0FBTyxLQUFLLE1BQU0sMkJBQTJCLENBQUE7QUFFN0MsUUFBUTtBQUNSLE9BQU8sYUFBYSxNQUFNLHlCQUF5QixDQUFBO0FBRW5ELG9CQUFvQjtBQUNwQixlQUFlO0lBQ2IsVUFBVSxFQUFFLEVBQUUsS0FBSyxFQUFFO0lBRXJCLEtBQUssRUFBRTtRQUNMLFlBQVksRUFBRSxRQUFRO1FBQ3RCLE9BQU8sRUFBRSxNQUFNO1FBQ2YsUUFBUSxFQUFFLE9BQU87UUFDakIsTUFBTSxFQUFFO1lBQ04sSUFBSSxFQUFFLFFBQVE7WUFDZCxPQUFPLEVBQUUsSUFBSTtTQUNkO1FBQ0QsTUFBTSxFQUFFO1lBQ04sSUFBSSxFQUFFLE1BQU07WUFDWixPQUFPLEVBQUUsT0FBTztTQUNqQjtRQUNELEdBQUcsRUFBRSxNQUFNO1FBQ1gsR0FBRyxFQUFFLE1BQU07UUFDWCxVQUFVLEVBQUUsT0FBTztRQUNuQixTQUFTLEVBQUU7WUFDVCxJQUFJLEVBQUUsTUFBTTtZQUNaLFFBQVEsRUFBRSxJQUFJO1NBQ2Y7UUFDRCxLQUFLLEVBQUUsQ0FBQyxNQUFNLEVBQUUsS0FBSyxDQUFDO0tBQ3ZCO0lBRUQsSUFBSSxFQUFFLEdBQUcsRUFBRSxDQUFDLENBQUM7UUFDWCxXQUFXLEVBQUUsS0FBSztLQUNuQixDQUFDO0lBRUYsUUFBUSxFQUFFO1FBQ1Isa0JBQWtCO1lBQ2hCLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsd0JBQXdCLENBQUMsQ0FBQyxDQUFDLGdCQUFnQixD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QUFFLEtBQUssRUFBRSxJQUFJLENBQUMsS0FBSyxFQUFFLENBQUMsQ0FBQyxDQUFDLFNBQVM7Z0JBQ3ZELFVBQVUsRUFBRSxDQUFDLGNBQWMsQ0FBQzthQUM3QixFQUFFLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQTtRQUNsQixDQUFDO0tBQ0Y7Q0FDRixDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0ICcuLi8uLi8uLi9zdHlsdXMvY29tcG9uZW50cy9fZGF0ZS1waWNrZXItdGFibGUuc3R5bCdcblxuLy8gRGlyZWN0aXZlc1xuaW1wb3J0IFRvdWNoIGZyb20gJy4uLy4uLy4uL2RpcmVjdGl2ZXMvdG91Y2gnXG5cbi8vIFV0aWxzXG5pbXBvcnQgaXNEYXRlQWxsb3dlZCBmcm9tICcuLi8uL3V0aWwvaXNEYXRlQWxsb3dlZCdcblxuLyogQHZ1ZS9jb21wb25lbnQgKi9cbmV4cG9ydCBkZWZhdWx0IHtcbiAgZGlyZWN0aXZlczogeyBUb3VjaCB9LFxuXG4gIHByb3BzOiB7XG4gICAgYWxsb3dlZERhdGVzOiBGdW5jdGlvbixcbiAgICBjdXJyZW50OiBTdHJpbmcsXG4gICAgZGlzYWJsZWQ6IEJvb2xlYW4sXG4gICAgZm9ybWF0OiB7XG4gICAgICB0eXBlOiBGdW5jdGlvbixcbiAgICAgIGRlZmF1bHQ6IG51bGxcbiAgICB9LFxuICAgIGxvY2FsZToge1xuICAgICAgdHlwZTogU3RyaW5nLFxuICAgICAgZGVmYXVsdDogJ2VuLXVzJ1xuICAgIH0sXG4gICAgbWluOiBTdHJpbmcsXG4gICAgbWF4OiBTdHJpbmcsXG4gICAgc2Nyb2xsYWJsZTogQm9vbGVhbixcbiAgICB0YWJsZURhdGU6IHtcbiAgICAgIHR5cGU6IFN0cmluZyxcbiAgICAgIHJlcXVpcmVkOiB0cnVlXG4gICAgfSxcbiAgICB2YWx1ZTogW1N0cmluZywgQXJyYXldXG4gIH0sXG5cbiAgZGF0YTogKCkgPT4gKHtcbiAgICBpc1JldmVyc2luZzogZmFsc2VcbiAgfSksXG5cbiAgY29tcHV0ZWQ6IHtcbiAgICBjb21wdXRlZFRyYW5zaXRpb24gKCkge1xuICAgICAgcmV0dXJuICh0aGlzLmlzUmV2ZXJzaW5nID09PSAhdGhpcy4kdnVldGlmeS5ydGwpID8gJ3RhYi1yZXZlcnNlLXRyYW5zaXRpb24nIDogJ3RhYi10cmFuc2l0aW9uJ1xuICAgIH0sXG4gICAgZGlzcGxheWVkTW9udGggKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGFibGVEYXRlLnNwbGl0KCctJylbMV0gLSAxXG4gICAgfSxcbiAgICBkaXNwbGF5ZWRZZWFyICgpIHtcbiAgICAgIHJldHVybiB0aGlzLnRhYmxlRGF0ZS5zcGxpdCgnLScpWzBdICogMVxuICAgIH1cbiAgfSxcblxuICB3YXRjaDoge1xuICAgIHRhYmxlRGF0ZSAobmV3VmFsLCBvbGRWYWwpIHtcbiAgICAgIHRoaXMuaXNSZXZlcnNpbmcgPSBuZXdWYWwgPCBvbGRWYWxcbiAgICB9XG4gIH0sXG5cbiAgbWV0aG9kczoge1xuICAgIGdlbkJ1dHRvbkNsYXNzZXMgKGlzQWxsb3dlZCwgaXNGbG9hdGluZywgaXNTZWxlY3RlZCwgaXNDdXJyZW50KSB7XG4gICAgICByZXR1cm4ge1xuICAgICAgICAndi1idG4tLWFjdGl2ZSc6IGlzU2VsZWN0ZWQsXG4gICAgICAgICd2LWJ0bi0tZmxhdCc6ICFpc1NlbGVjdGVkLFxuICAgICAgICAndi1idG4tLWljb24nOiBpc1NlbGVjdGVkICYmIGlzQWxsb3dlZCAmJiBpc0Zsb2F0aW5nLFxuICAgICAgICAndi1idG4tLWZsb2F0aW5nJzogaXNGbG9hdGluZyxcbiAgICAgICAgJ3YtYnRuLS1kZXByZXNzZWQnOiAhaXNGbG9hdGluZyAmJiBpc1NlbGVjdGVkLFxuICAgICAgICAndi1idG4tLWRpc2FibGVkJzogIWlzQWxsb3dlZCB8fCAodGhpcy5kaXNhYmxlZCAmJiBpc1NlbGVjdGVkKSxcbiAgICAgICAgJ3YtYnRuLS1vdXRsaW5lJzogaXNDdXJyZW50ICYmICFpc1NlbGVjdGVkLFxuICAgICAgICAuLi50aGlzLnRoZW1lQ2xhc3Nlc1xuICAgICAgfVxuICAgIH0sXG4gICAgZ2VuQnV0dG9uICh2YWx1ZSwgaXNGbG9hdGluZykge1xuICAgICAgY29uc3QgaXNBbGxvd2VkID0gaXNEYXRlQWxsb3dlZCh2YWx1ZSwgdGhpcy5taW4sIHRoaXMubWF4LCB0aGlzLmFsbG93ZWREYXRlcylcbiAgICAgIGNvbnN0IGlzU2VsZWN0ZWQgPSB2YWx1ZSA9PT0gdGhpcy52YWx1ZSB8fCAoQXJyYXkuaXNBcnJheSh0aGlzLnZhbHVlKSAmJiB0aGlzLnZhbHVlLmluZGV4T2YodmFsdWUpICE9PSAtMSlcbiAgICAgIGNvbnN0IGlzQ3VycmVudCA9IHZhbHVlID09PSB0aGlzLmN1cnJlbnRcbiAgICAgIGNvbnN0IHNldENvbG9yID0gaXNTZWxlY3RlZCA/IHRoaXMuc2V0QmFja2dyb3VuZENvbG9yIDogdGhpcy5zZXRUZXh0Q29sb3JcbiAgICAgIGNvbnN0IGNvbG9yID0gKGlzU2VsZWN0ZWQgfHwgaXNDdXJyZW50KSAmJiAodGhpcy5jb2xvciB8fCAnYWNjZW50JylcblxuICAgICAgcmV0dXJuIHRoaXMuJGNyZWF0ZUVsZW1lbnQoJ2J1dHRvbicsIHNldENvbG9yKGNvbG9yLCB7XG4gICAgICAgIHN0YXRpY0NsYXNzOiAndi1idG4nLFxuICAgICAgICAnY2xhc3MnOiB0aGlzLmdlbkJ1dHRvbkNsYXNzZXMoaXNBbGxvd2VkLCBpc0Zsb2F0aW5nLCBpc1NlbGVjdGVkLCBpc0N1cnJlbnQpLFxuICAgICAgICBhdHRyczoge1xuICAgICAgICAgIHR5cGU6ICdidXR0b24nXG4gICAgICAgIH0sXG4gICAgICAgIGRvbVByb3BzOiB7XG4gICAgICAgICAgZGlzYWJsZWQ6ICFpc0FsbG93ZWQsXG4gICAgICAgICAgaW5uZXJIVE1MOiBgPGRpdiBjbGFzcz1cInYtYnRuX19jb250ZW50XCI+JHt0aGlzLmZvcm1hdHRlcih2YWx1ZSl9PC9kaXY+YFxuICAgICAgICB9LFxuICAgICAgICBvbjogKHRoaXMuZGlzYWJsZWQgfHwgIWlzQWxsb3dlZCkgPyB7fSA6IHtcbiAgICAgICAgICBjbGljazogKCkgPT4gdGhpcy4kZW1pdCgnaW5wdXQnLCB2YWx1ZSlcbiAgICAgICAgfVxuICAgICAgfSkpXG4gICAgfSxcbiAgICB3aGVlbCAoZSkge1xuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpXG4gICAgICB0aGlzLiRlbWl0KCd0YWJsZURhdGUnLCB0aGlzLmNhbGN1bGF0ZVRhYmxlRGF0ZShlLmRlbHRhWSkpXG4gICAgfSxcbiAgICB0b3VjaCAodmFsdWUpIHtcbiAgICAgIHRoaXMuJGVtaXQoJ3RhYmxlRGF0ZScsIHRoaXMuY2FsY3VsYXRlVGFibGVEYXRlKHZhbHVlKSlcbiAgICB9LFxuICAgIGdlblRhYmxlIChzdGF0aWNDbGFzcywgY2hpbGRyZW4pIHtcbiAgICAgIGNvbnN0IHRyYW5zaXRpb24gPSB0aGlzLiRjcmVhdGVFbGVtZW50KCd0cmFuc2l0aW9uJywge1xuICAgICAgICBwcm9wczogeyBuYW1lOiB0aGlzLmNvbXB1dGVkVHJhbnNpdGlvbiB9XG4gICAgICB9LCBbdGhpcy4kY3JlYXRlRWxlbWVudCgndGFibGUnLCB7IGtleTogdGhpcy50YWJsZURhdGUgfSwgY2hpbGRyZW4pXSlcblxuICAgICAgY29uc3QgdG91Y2hEaXJlY3RpdmUgPSB7XG4gICAgICAgIG5hbWU6ICd0b3VjaCcsXG4gICAgICAgIHZhbHVlOiB7XG4gICAgICAgICAgbGVmdDogZSA9PiAoZS5vZmZzZXRYIDwgLTE1KSAmJiB0aGlzLnRvdWNoKDEpLFxuICAgICAgICAgIHJpZ2h0OiBlID0+IChlLm9mZnNldFggPiAxNSkgJiYgdGhpcy50b3VjaCgtMSlcbiAgICAgICAgfVxuICAgICAgfVxuXG4gICAgICByZXR1cm4gdGhpcy4kY3JlYXRlRWxlbWVudCgnZGl2Jywge1xuICAgICAgICBzdGF0aWNDbGFzcyxcbiAgICAgICAgY2xhc3M6IHRoaXMudGhlbWVDbGFzc2VzLFxuICAgICAgICBvbjogdGhpcy5zY3JvbGxhYmxlID8geyB3aGVlbDogdGhpcy53aGVlbCB9IDogdW5kZWZpbmVkLFxuICAgICAgICBkaXJlY3RpdmVzOiBbdG91Y2hEaXJlY3RpdmVdXG4gICAgICB9LCBbdHJhbnNpdGlvbl0pXG4gICAgfVxuICB9XG59XG4iXX0=