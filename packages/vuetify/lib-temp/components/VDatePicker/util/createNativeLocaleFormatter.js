import pad from './pad';
export default (locale, options, { start, length } = { start: 0, length: 0 }) => {
    const makeIsoString = dateString => {
        const [year, month, date] = dateString.trim().split(' ')[0].split('-');
        return [year, pad(month || 1), pad(date || 1)].join('-');
    };
    try {
        const intlFormatter = new Intl.DateTimeFormat(locale || undefined, options);
        return dateString => intlFormatter.format(new Date(`${makeIsoString(dateString)}T00:00:00+00:00`));
    }
    catch (e) {
        return (start || length) ? dateString => makeIsoString(dateString).substr(start, length) : null;
    }
};
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiY3JlYXRlTmF0aXZlTG9jYWxlRm9ybWF0dGVyLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vc3JjL2NvbXBvbmVudHMvVkRhdGVQaWNrZXIvdXRpbC9jcmVhdGVOYXRpdmVMb2NhbGVGb3JtYXR0ZXIuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxHQUFHLE1BQU0sT0FBTyxDQUFBO0FBRXZCLGVBQWUsQ0FBQyxNQUFNLEVBQUUsT0FBTyxFQUFFLEVBQUUsS0FBSyxFQUFFLE1BQU0sRUFBRSxHQUFHLEVBQUUsS0FBSyxFQUFFLENBQUMsRUFBRSxNQUFNLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRTtJQUM5RSxNQUFNLGFBQWEsR0FBRyxVQUFVLENBQUMsRUFBRTtRQUNqQyxNQUFNLENBQUMsSUFBSSxFQUFFLEtBQUssRUFBRSxJQUFJLENBQUMsR0FBRyxVQUFVLENBQUMsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUN0RSxPQUFPLENBQUMsSUFBSSxFQUFFLEdBQUcsQ0FBQyxLQUFLLElBQUksQ0FBQyxDQUFDLEVBQUUsR0FBRyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQTtJQUMxRCxDQUFDLENBQUE7SUFFRCxJQUFJO1FBQ0YsTUFBTSxhQUFhLEdBQUcsSUFBSSxJQUFJLENBQUMsY0FBYyxDQUFDLE1BQU0sSUFBSSxTQUFTLEVBQUUsT0FBTyxDQUFDLENBQUE7UUFDM0UsT0FBTyxVQUFVLENBQUMsRUFBRSxDQUFDLGFBQWEsQ0FBQyxNQUFNLENBQUMsSUFBSSxJQUFJLENBQUMsR0FBRyxhQUFhLENBQUMsVUFBVSxDQUFDLGlCQUFpQixDQUFDLENBQUMsQ0FBQTtLQUNuRztJQUFDLE9BQU8sQ0FBQyxFQUFFO1FBQ1YsT0FBTyxDQUFDLEtBQUssSUFBSSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxhQUFhLENBQUMsVUFBVSxDQUFDLENBQUMsTUFBTSxDQUFDLEtBQUssRUFBRSxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFBO0tBQ2hHO0FBQ0gsQ0FBQyxDQUFBIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHBhZCBmcm9tICcuL3BhZCdcblxuZXhwb3J0IGRlZmF1bHQgKGxvY2FsZSwgb3B0aW9ucywgeyBzdGFydCwgbGVuZ3RoIH0gPSB7IHN0YXJ0OiAwLCBsZW5ndGg6IDAgfSkgPT4ge1xuICBjb25zdCBtYWtlSXNvU3RyaW5nID0gZGF0ZVN0cmluZyA9PiB7XG4gICAgY29uc3QgW3llYXIsIG1vbnRoLCBkYXRlXSA9IGRhdGVTdHJpbmcudHJpbSgpLnNwbGl0KCcgJylbMF0uc3BsaXQoJy0nKVxuICAgIHJldHVybiBbeWVhciwgcGFkKG1vbnRoIHx8IDEpLCBwYWQoZGF0ZSB8fCAxKV0uam9pbignLScpXG4gIH1cblxuICB0cnkge1xuICAgIGNvbnN0IGludGxGb3JtYXR0ZXIgPSBuZXcgSW50bC5EYXRlVGltZUZvcm1hdChsb2NhbGUgfHwgdW5kZWZpbmVkLCBvcHRpb25zKVxuICAgIHJldHVybiBkYXRlU3RyaW5nID0+IGludGxGb3JtYXR0ZXIuZm9ybWF0KG5ldyBEYXRlKGAke21ha2VJc29TdHJpbmcoZGF0ZVN0cmluZyl9VDAwOjAwOjAwKzAwOjAwYCkpXG4gIH0gY2F0Y2ggKGUpIHtcbiAgICByZXR1cm4gKHN0YXJ0IHx8IGxlbmd0aCkgPyBkYXRlU3RyaW5nID0+IG1ha2VJc29TdHJpbmcoZGF0ZVN0cmluZykuc3Vic3RyKHN0YXJ0LCBsZW5ndGgpIDogbnVsbFxuICB9XG59XG4iXX0=